<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>EURO_GOALS {{ APP_VERSION }}</title>

  <!-- ============================================== -->
  <!-- üåê Progressive Web App / Meta Tags -->
  <!-- ============================================== -->
  <link rel="manifest" href="/static/manifest.json">
  <meta name="theme-color" content="#0b0f17">
  <meta name="background-color" content="#0b0f17">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="EURO_GOALS PRO+">
  <link rel="apple-touch-icon" href="/static/icons/icon-192.png">
  <link rel="apple-touch-startup-image" href="/static/icons/splash_1080x1920.png">

  <!-- Favicon -->
  <link rel="icon" href="/static/icons/eurogoals_192.png">

  <!-- ============================================== -->
  <!-- üé® ŒïŒΩŒπŒ±ŒØŒø Dark UI CSS -->
  <!-- ============================================== -->
  <link rel="stylesheet" href="/static/css/style.css">
</head>

<body>
  <!-- ============================================== -->
  <!-- üîù Mobile Top Bar -->
  <!-- ============================================== -->
  <header class="eg-topbar">
    <button id="menuBtn" class="eg-btn icon only" aria-label="Menu">‚ò∞</button>
    <div class="eg-topbar-title">
      EURO_GOALS <span class="muted">{{ APP_VERSION }}</span>
    </div>
    <div class="eg-topbar-actions">
      <button id="refreshNowBtn" class="eg-btn sm">Refresh</button>
    </div>
  </header>

  <!-- ============================================== -->
  <!-- üì± Mobile Drawer -->
  <!-- ============================================== -->
  <nav id="mobileDrawer" class="drawer">
    <div class="drawer-inner">
      <button id="drawerClose" class="eg-btn icon only" aria-label="Close">‚úï</button>
      <h3>ŒúŒµŒΩŒøœç</h3>
      <ul class="drawer-menu">
        <li><a href="#summary">System Summary</a></li>
        <li><a href="#smartmoney">SmartMoney</a></li>
        <li><a href="#goalmatrix">GoalMatrix</a></li>
        <li><a href="#alerts">Alert History</a></li>
        <li><a href="#status">System Status</a></li>
      </ul>
    </div>
  </nav>

  <!-- ============================================== -->
  <!-- üß† ŒöœçœÅŒπŒø Œ†ŒµœÅŒπŒµœáœåŒºŒµŒΩŒø -->
  <!-- ============================================== -->
  <main class="eg-container">

    <!-- ===== System Summary Bar (Tailwind-based) ===== -->
    <section id="summary" class="eg-section">
      {% include 'partials/system_summary_bar.html' %}
    </section>

    <!-- ===== Œ†ŒµœÅŒπŒµœáœåŒºŒµŒΩŒø ===== -->
    <section class="eg-grid">

      <!-- SmartMoney -->
      <div id="smartmoney" class="eg-card">
        <div class="eg-card-header">
          <h2>SmartMoney Monitor</h2>
          <div class="eg-actions">
            <label class="switch">
              <input id="toggleSmartMoney" type="checkbox">
              <span class="slider"></span>
            </label>
            <span class="switch-label">ON/OFF</span>
          </div>
        </div>
        <div class="eg-card-body">
          <div class="placeholder">SmartMoney table/feed placeholder</div>
        </div>
      </div>

      <!-- GoalMatrix -->
      <div id="goalmatrix" class="eg-card">
        <div class="eg-card-header">
          <h2>GoalMatrix</h2>
          <div class="eg-actions">
            <label class="switch">
              <input id="toggleGoalMatrix" type="checkbox">
              <span class="slider"></span>
            </label>
            <span class="switch-label">ON/OFF</span>
          </div>
        </div>
        <div class="eg-card-body">
          <div class="placeholder">GoalMatrix heatmap/lines placeholder</div>
        </div>
      </div>

      <!-- Alert History -->
      <div id="alerts" class="eg-card full">
        <div class="eg-card-header">
          <h2>Alert History</h2>
          <div class="eg-actions">
            <button id="clearAlerts" class="eg-btn ghost sm">Clear</button>
          </div>
        </div>
        <div class="eg-card-body">
          <div class="placeholder">Alerts table placeholder</div>
        </div>
      </div>

      <!-- System Status -->
      <div id="status" class="eg-card">
        <div class="eg-card-header">
          <h2>System Status</h2>
        </div>
        <div class="eg-card-body">
          <ul class="kv">
            <li><span>Version</span><b id="kvVersion">‚Äî</b></li>
            <li><span>Uptime</span><b id="kvUptime">‚Äî</b></li>
            <li><span>Auto-refresh</span><b id="kvAuto">‚Äî</b></li>
          </ul>
        </div>
      </div>

    </section>
  </main>

  <!-- ============================================== -->
  <!-- ‚öôÔ∏è JS -->
  <!-- ============================================== -->
  <script>
    window.__EG__ = { initialRefreshSecs: {{ refresh_secs|int }} };
  </script>
  <script src="/static/js/ui_controls.js"></script>

  <!-- ============================================== -->
  <!-- üß© Service Worker Registration (PWA) -->
  <!-- ============================================== -->
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("/static/js/service_worker.js")
          .then(reg => console.log("‚úÖ Service Worker registered:", reg.scope))
          .catch(err => console.warn("Service Worker failed:", err));
      });
    }
  </script>
</body>
</html>
