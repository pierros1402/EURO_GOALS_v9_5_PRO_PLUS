{% extends "base.html" %}
{% block content %}
<main class="min-h-screen flex flex-col items-center justify-start pt-6 pb-20 px-4 md:px-8">

  <!-- ============================================================
       DASHBOARD HEADER TOOLBAR
  ============================================================ -->
  <header class="w-full max-w-7xl flex items-center justify-between mb-6 animate-fadeIn">
    <h1 class="text-2xl md:text-3xl font-bold text-blue-400 drop-shadow-sm tracking-wide">
      âš½ EURO_GOALS PRO+ <span class="text-gray-300">UNIFIED</span>
    </h1>
    <div class="flex items-center gap-3">
      <button id="manual-refresh" class="px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-md transition">
        ğŸ” Î‘Î½Î±Î½ÎµÏÏƒÎ·
      </button>
      <button id="theme-toggle" class="p-2 bg-gray-800 rounded-full hover:bg-gray-700 transition">
        <i id="theme-icon" class="fas fa-moon text-blue-400"></i>
      </button>
    </div>
  </header>

  <!-- ============================================================
       PANELS WRAPPER
  ============================================================ -->
  <section class="grid grid-cols-1 lg:grid-cols-3 gap-6 w-full max-w-7xl">

    <!-- SMARTMONEY PANEL -->
    <div class="panel animate-fadeIn">
      <div class="panel-header">
        <h2 id="smartmoney-title">ğŸ’° SmartMoney Monitor</h2>
        <div id="smartmoney-status" class="status-dot"></div>
      </div>
      <div id="smartmoney-content" class="panel-body placeholder">
        Î¦ÏŒÏÏ„Ï‰ÏƒÎ· SmartMoney Engine...
      </div>
    </div>

    <!-- GOALMATRIX PANEL -->
    <div class="panel animate-fadeIn">
      <div class="panel-header">
        <h2 id="goalmatrix-title">ğŸ¯ GoalMatrix Engine</h2>
        <div id="goalmatrix-status" class="status-dot"></div>
      </div>
      <div id="goalmatrix-content" class="panel-body placeholder">
        Î¦ÏŒÏÏ„Ï‰ÏƒÎ· GoalMatrix Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½...
      </div>
    </div>

    <!-- SYSTEM STATUS PANEL -->
    <div class="panel animate-fadeIn">
      <div class="panel-header">
        <h2 id="system-status-title">ğŸ©º System Status</h2>
        <div id="system-status-dot" class="status-dot"></div>
      </div>
      <div id="system-status-content" class="panel-body placeholder">
        ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ ÏƒÏ…ÏƒÏ„Î·Î¼Î¬Ï„Ï‰Î½...
      </div>
    </div>

  </section>

  <!-- ============================================================
       SCROLL TO TOP BUTTON
  ============================================================ -->
  <button id="scrollTopBtn"
          class="hidden fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white text-xl p-3 rounded-full shadow-lg transition">
    â¬†ï¸
  </button>
</main>

<!-- ============================================================
     INLINE SCRIPTS
============================================================ -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const refreshBtn = document.getElementById("manual-refresh");
    const scrollBtn = document.getElementById("scrollTopBtn");

    // Manual Refresh Action
    refreshBtn?.addEventListener("click", () => {
      refreshBtn.innerText = "â³ Î‘Î½Î±Î½ÎµÏÎ½ÎµÏ„Î±Î¹...";
      refreshAllPanels();
      setTimeout(() => (refreshBtn.innerText = "ğŸ” Î‘Î½Î±Î½ÎµÏÏƒÎ·"), 1500);
    });

    // Scroll-to-top Visibility
    window.addEventListener("scroll", () => {
      if (window.scrollY > 200) {
        scrollBtn.classList.remove("hidden");
      } else {
        scrollBtn.classList.add("hidden");
      }
    });

    // Scroll-to-top Action
    scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  });

  // Dynamic Glow Titles
  const titles = document.querySelectorAll(".panel-header h2");
  titles.forEach((title) => {
    const observer = new MutationObserver(() => {
      if (title.parentElement.querySelector(".status-dot.active")) {
        title.style.textShadow = "0 0 10px rgba(59,130,246,0.7)";
      } else if (title.parentElement.querySelector(".status-dot.error")) {
        title.style.textShadow = "0 0 10px rgba(239,68,68,0.7)";
      } else {
        title.style.textShadow = "none";
      }
    });
    observer.observe(title.parentElement, { attributes: true, subtree: true });
  });
</script>
{% endblock %}
