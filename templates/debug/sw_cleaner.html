<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<title>EURO_GOALS â€” SW Cleaner</title>
<style>
  body { background:#0b1220; color:#e6eefc; font-family:sans-serif; padding:2rem; }
  h1 { font-size:1.3rem; margin-bottom:1rem; }
  button {
    background:#0a84ff; border:none; padding:.6rem 1rem; color:white;
    border-radius:8px; cursor:pointer; margin-right:.6rem; margin-bottom:1rem;
  }
  pre {
    background:#121b30; padding:.8rem; border-radius:8px; max-height:60vh; overflow:auto;
    border:1px solid #2a3a5a;
  }
</style>
</head>
<body>

<h1>ðŸ§¹ EURO_GOALS â€” Service Worker Cleaner</h1>

<button onclick="cleanEG()">Clean EURO_GOALS SW</button>
<button onclick="cleanLocal()">Full Local SW Clean</button>

<pre id="log">Readyâ€¦</pre>

<script>
function log(msg){
  document.getElementById("log").textContent += "\n" + msg;
}

async function cleanEG(){
  log("â–¶ Cleaning EURO_GOALS service workers...");
  const regs = await navigator.serviceWorker.getRegistrations();
  let removed = 0;
  for (const r of regs){
    if (r.scope.includes("127.0.0.1:8000")){
      await r.unregister();
      removed++;
      log("âœ” Removed: " + r.scope);
    }
  }
  if (!removed) log("â„¹ No EURO_GOALS SW found.");
  log("â–¶ Done.");
}

async function cleanLocal(){
  log("â–¶ Full local cleanup...");
  const regs = await navigator.serviceWorker.getRegistrations();
  let removed = 0;
  for (const r of regs){
    if (r.scope.startsWith("http://127.0.0.1")){
      await r.unregister();
      removed++;
      log("âœ” Removed local: " + r.scope);
    }
  }
  log("Total removed: " + removed);
}
</script>

</body>
</html>
