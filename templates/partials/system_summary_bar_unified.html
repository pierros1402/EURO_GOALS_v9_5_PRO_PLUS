<!-- ============================================================
     EURO_GOALS v9.6.1 PRO+ — Unified System Summary Bar
============================================================ -->
<div id="system-summary-bar"
     class="p-3 rounded-xl shadow bg-neutral-900/70 backdrop-blur-md
            text-gray-100 text-sm flex flex-wrap justify-between gap-3 transition-all">

  <!-- Loading placeholder -->
  <div class="w-full text-center text-gray-400">Φόρτωση κατάστασης συστήματος...</div>
</div>

<script>
  // ============================================================
  // EURO_GOALS v9.6.1 PRO+ — Unified System Summary Controller
  // ============================================================
  const sysBar = document.getElementById("system-summary-bar");

  async function loadSystemSummary() {
    try {
      const res = await fetch("/api/system/check");
      const data = await res.json();
      const engines = data.engines || {};
      const ts = new Date(data.timestamp * 1000).toLocaleTimeString("el-GR", { hour12: false });

      const pill = (label, active) => `
        <span class="px-2 py-1 rounded text-xs font-semibold ${
          active ? "bg-emerald-500 text-black" : "bg-red-600 text-white"
        }">${label}: ${active ? "ON" : "OFF"}</span>
      `;

      const sm = engines.smartmoney && !engines.smartmoney.error;
      const gm = engines.goalmatrix && !engines.goalmatrix.error;
      const hm = engines.heatmap && !engines.heatmap.error;
      const hs = engines.history && !engines.history.error;
      const od = engines.odds_unified && !engines.odds_unified.error;

      // Προσωρινές μετρήσεις CPU/RAM (dummy για render)
      const cpu = (Math.random() * 40 + 10).toFixed(1);
      const ram = (Math.random() * 50 + 20).toFixed(1);

      sysBar.innerHTML = `
        <div class="flex flex-wrap gap-2 items-center justify-center w-full md:justify-between">
          <div class="flex flex-wrap gap-2 justify-center md:justify-start">
            ${pill("SmartMoney", sm)}
            ${pill("GoalMatrix", gm)}
            ${pill("Heatmap", hm)}
            ${pill("History", hs)}
            ${pill("Odds", od)}
          </div>

          <div class="flex flex-wrap gap-2 justify-center md:justify-end">
            <span class="px-2 py-1 rounded text-xs bg-sky-700 text-white">CPU: ${cpu}%</span>
            <span class="px-2 py-1 rounded text-xs bg-sky-700 text-white">RAM: ${ram}%</span>
            <span class="text-xs text-gray-400 ml-2">⏱ ${ts}</span>
          </div>
        </div>
      `;
    } catch (err) {
      sysBar.innerHTML = `
        <div class="w-full text-center text-red-400">
          ⚠ Σφάλμα φόρτωσης κατάστασης συστήματος.
        </div>
      `;
    }
  }

  loadSystemSummary();
  setInterval(loadSystemSummary, 30000);
</script>
