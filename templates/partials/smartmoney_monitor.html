<!-- ========================================================= -->
<!-- SMARTMONEY MONITOR PANEL â€“ EURO_GOALS v9.5.4 PRO+ -->
<!-- ========================================================= -->
<div id="smartmoney-panel" class="bg-white/80 backdrop-blur-md rounded-xl shadow p-4 mb-4">
  <h2 class="text-lg font-semibold mb-3 flex items-center">
    ğŸ’° SmartMoney Engine
    <span id="smartmoney-status" class="ml-3 text-sm text-gray-600">
      Checking status...
    </span>
  </h2>

  <div class="flex flex-wrap gap-2 mt-2">
    <button onclick="loadSmartMoneyStatus()" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded">
      ğŸ” Refresh Now
    </button>
    <button onclick="updateSmartMoneyData()" class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded">
      ğŸ“Š Update Data
    </button>
  </div>
</div>

<script>
  // ============================================================
  // SMARTMONEY PANEL SCRIPT â€“ inline initialization
  // ============================================================

  async function loadSmartMoneyStatus() {
    try {
      const response = await fetch("/api/smartmoney/status");
      const data = await response.json();

      const statusElement = document.getElementById("smartmoney-status");
      if (!statusElement) return;

      if (data.error) {
        statusElement.innerHTML = `ğŸš« Offline (${data.message || "No response"})`;
        statusElement.style.color = "red";
      } else {
        statusElement.innerHTML = `âœ… Active â€“ ${data.status || "OK"}`;
        statusElement.style.color = "green";
      }
    } catch (err) {
      console.error("SmartMoney fetch error:", err);
    }
  }

  async function updateSmartMoneyData() {
    try {
      const resp = await fetch("/api/smartmoney/update", { method: "POST" });
      const data = await resp.json();
      alert(`SmartMoney update: ${data.status.toUpperCase()} â€“ ${data.info}`);
      loadSmartMoneyStatus();
    } catch (err) {
      alert("SmartMoney update failed");
    }
  }

  window.addEventListener("load", loadSmartMoneyStatus);
</script>
