<!-- ============================================================
     EURO_GOALS v9.6.1 PRO+ â€” Unified System Status Panel
============================================================ -->
<section class="card bg-neutral-900/70 text-gray-100 rounded-xl shadow p-3 backdrop-blur-md transition-all">
  <header class="flex justify-between items-center mb-2">
    <h3 class="text-lg font-semibold text-sky-400">ğŸ©º ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î£Ï…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚</h3>
    <button id="refreshSystem" class="text-xs px-2 py-1 bg-sky-700 text-white rounded hover:bg-sky-600 transition">
      ğŸ”„ Î‘Î½Î±Î½Î­Ï‰ÏƒÎ·
    </button>
  </header>

  <!-- Î Î¯Î½Î±ÎºÎ±Ï‚ ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·Ï‚ ÏƒÏ…ÏƒÏ„Î·Î¼Î¬Ï„Ï‰Î½ -->
  <div class="overflow-x-auto max-h-[300px] border-t border-gray-800">
    <table class="w-full text-sm border-collapse">
      <thead class="bg-gray-800 text-sky-400 sticky top-0">
        <tr>
          <th class="p-2 text-left">Î¥Ï€Î¿ÏƒÏÏƒÏ„Î·Î¼Î±</th>
          <th class="p-2 text-left">ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·</th>
          <th class="p-2 text-right">Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ·</th>
        </tr>
      </thead>
      <tbody id="system-status-body" class="divide-y divide-gray-700 text-gray-200">
        <tr>
          <td colspan="3" class="p-3 text-center text-gray-400">Î¦ÏŒÏÏ„Ï‰ÏƒÎ· ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·Ï‚...</td>
        </tr>
      </tbody>
    </table>
  </div>

  <footer class="text-xs text-gray-500 mt-2">
    * Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î±Î½Î±Î½Î­Ï‰ÏƒÎ· ÎºÎ¬Î¸Îµ 45 Î´ÎµÏ…Ï„ÎµÏÏŒÎ»ÎµÏ€Ï„Î±.
  </footer>
</section>

<script>
  // ============================================================
  // EURO_GOALS Unified System Status Fetcher
  // ============================================================
  async function loadSystemStatus() {
    const tbody = document.getElementById("system-status-body");
    try {
      const resp = await fetch("/api/system/check");
      const data = await resp.json();
      const engines = data.engines || {};

      if (!Object.keys(engines).length) {
        tbody.innerHTML = `<tr><td colspan="3" class="p-3 text-center text-gray-400">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î± Î´ÎµÎ´Î¿Î¼Î­Î½Î±.</td></tr>`;
        return;
      }

      tbody.innerHTML = Object.entries(engines).map(([name, info]) => {
        let status = "ğŸŸ¢ Î•Î½ÎµÏÎ³ÏŒ";
        let updated = new Date().toLocaleTimeString();

        if (info.error) status = "ğŸ”´ Î£Ï†Î¬Î»Î¼Î±";
        else if (info.status && info.status !== "ok") status = "ğŸŸ  Î ÏÎ¿ÎµÎ¹Î´Î¿Ï€Î¿Î¯Î·ÏƒÎ·";

        return `
          <tr class="hover:bg-neutral-800/60 transition">
            <td class="p-2 font-medium">${name}</td>
            <td class="p-2">${status}</td>
            <td class="p-2 text-right">${updated}</td>
          </tr>`;
      }).join('');
    } catch (err) {
      tbody.innerHTML = `<tr><td colspan="3" class="p-3 text-center text-red-400">âš  Î£Ï†Î¬Î»Î¼Î± Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚.</td></tr>`;
    }
  }

  // ------------------------------------------------------------
  // Controls
  // ------------------------------------------------------------
  document.getElementById("refreshSystem")?.addEventListener("click", loadSystemStatus);
  loadSystemStatus();
  setInterval(loadSystemStatus, 45000);
</script>
