<!-- ========================================================= -->
<!-- SYSTEM STATUS PANEL â€“ EURO_GOALS v9.5.5 PRO+ Unified Expansion -->
<!-- ========================================================= -->
<div id="system-status-panel" class="bg-white/80 dark:bg-neutral-900/70 backdrop-blur-md rounded-xl shadow p-4 mb-4 transition-all">
  <h2 class="text-lg font-semibold mb-3">ğŸ©º System Health Monitor â€” Unified Expansion</h2>

  <div class="grid grid-cols-2 md:grid-cols-3 gap-3 text-sm">
    <div>ğŸ’° SmartMoney: <span id="status-sm" class="status-tag">â€“</span></div>
    <div>ğŸ¯ GoalMatrix: <span id="status-gm" class="status-tag">â€“</span></div>
    <div>ğŸ”¥ Heatmap: <span id="status-hm" class="status-tag">â€“</span></div>
    <div>ğŸ•“ BeSoccer: <span id="status-bs" class="status-tag">â€“</span></div>
    <div>ğŸ§  CPU: <span id="status-cpu" class="status-tag">â€“</span></div>
    <div>ğŸ’» RAM: <span id="status-ram" class="status-tag">â€“</span></div>
  </div>

  <div class="text-xs opacity-70 mt-3 flex justify-between">
    <span id="status-timestamp">Auto-refreshes every 30 s</span>
    <span>EURO_GOALS v9.5.5</span>
  </div>
</div>

<style>
  .status-tag {
    font-weight: 600;
    padding: 2px 6px;
    border-radius: 6px;
    color: #000;
    background: #ccc;
  }
  .status-ok { background: #00e676; color: #000; }
  .status-fail { background: #ff1744; color: #fff; }
  .status-warn { background: #ffb300; color: #000; }
</style>

<script>
  // ============================================================
  // SYSTEM STATUS SCRIPT â€“ EURO_GOALS v9.5.5 PRO+ Unified Expansion
  // ============================================================
  async function loadSystemStatus() {
    try {
      const resp = await fetch("/system_status");
      const data = await resp.json();
      const e = data.engines || {};

      const setStatus = (id, active, value) => {
        const el = document.getElementById(id);
        if (!el) return;
        el.className = "status-tag";
        if (active) el.classList.add("status-ok");
        else el.classList.add("status-fail");
        el.textContent = active ? (value ? `ON (${value})` : "ON") : "OFF";
      };

      setStatus("status-sm", e.smartmoney?.active, e.smartmoney?.alerts);
      setStatus("status-gm", e.goalmatrix?.active, e.goalmatrix?.alerts);
      setStatus("status-hm", e.heatmap?.active, e.heatmap?.items);
      setStatus("status-bs", e.besoccer?.active, e.besoccer?.history_items);

      // Î ÏÎ¿ÏƒÏ‰ÏÎ¹Î½Î¬ dummy metrics â€” Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎµÏ€ÎµÎºÏ„Î±Î¸ÎµÎ¯ Î±ÏÎ³ÏŒÏ„ÎµÏÎ±
      document.getElementById("status-cpu").textContent = "OK";
      document.getElementById("status-cpu").className = "status-tag status-ok";
      document.getElementById("status-ram").textContent = "OK";
      document.getElementById("status-ram").className = "status-tag status-ok";

      document.getElementById("status-timestamp").textContent =
        "Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ·: " +
        new Date().toLocaleTimeString("el-GR", { hour12: false });
    } catch (err) {
      console.error("[EURO_GOALS] System status fetch error:", err);
    }
  }

  window.addEventListener("load", loadSystemStatus);
  setInterval(loadSystemStatus, 30000);
</script>
