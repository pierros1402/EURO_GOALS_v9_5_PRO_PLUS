<!-- ============================================================
     EURO_GOALS PRO+ v9.6.1 â€” Unified System Controls Modal
     Adaptive UI | Dark/Light | Engine Refresh Controls
============================================================ -->
<div id="systemControlsModal"
     class="fixed inset-0 bg-black/60 backdrop-blur-sm hidden items-center justify-center z-50 transition-opacity">
  <div class="modal-content bg-neutral-900 text-gray-100 rounded-2xl shadow-xl w-[90%] max-w-lg p-5 relative dark:bg-neutral-900/95">
    <h2 class="text-xl font-semibold text-sky-400 mb-3 flex items-center justify-between">
      âš™ï¸ System Controls
      <button id="closeControlsBtn" class="text-gray-400 hover:text-white text-lg">âœ•</button>
    </h2>

    <!-- ============================================================
         Refresh Intervals
    ============================================================ -->
    <section class="space-y-2 mb-4">
      <h3 class="text-sm text-gray-300 font-semibold">â±ï¸ Refresh Intervals (seconds)</h3>
      <div class="grid grid-cols-2 gap-3 text-sm">
        <label class="flex justify-between items-center">
          <span>ğŸ’° SmartMoney</span>
          <input id="input-sm" type="number" min="5" step="5" value="30"
                 class="input-box w-20 text-right" />
        </label>
        <label class="flex justify-between items-center">
          <span>ğŸ¯ GoalMatrix</span>
          <input id="input-gm" type="number" min="10" step="5" value="60"
                 class="input-box w-20 text-right" />
        </label>
        <label class="flex justify-between items-center">
          <span>ğŸ”¥ Heatmap</span>
          <input id="input-hm" type="number" min="30" step="10" value="90"
                 class="input-box w-20 text-right" />
        </label>
        <label class="flex justify-between items-center">
          <span>ğŸ“œ History</span>
          <input id="input-hist" type="number" min="600" step="60" value="3600"
                 class="input-box w-20 text-right" />
        </label>
        <label class="flex justify-between items-center">
          <span>ğŸ² Odds</span>
          <input id="input-odds" type="number" min="15" step="5" value="60"
                 class="input-box w-20 text-right" />
        </label>
      </div>
    </section>

    <!-- ============================================================
         Actions
    ============================================================ -->
    <section class="text-sm text-gray-300 space-y-2">
      <h3 class="text-sm font-semibold text-gray-300">ğŸ§© Actions</h3>
      <div class="flex flex-wrap gap-2">
        <button id="btn-save-config" class="modal-btn bg-sky-700 hover:bg-sky-600">ğŸ’¾ Save Config</button>
        <button id="btn-refresh-all" class="modal-btn bg-emerald-700 hover:bg-emerald-600">ğŸ” Force Refresh</button>
        <button id="btn-clear-cache" class="modal-btn bg-rose-700 hover:bg-rose-600">ğŸ§¹ Clear Cache</button>
      </div>
    </section>

    <!-- ============================================================
         System Info
    ============================================================ -->
    <section class="mt-4 text-xs text-gray-400 border-t border-gray-700 pt-2">
      <p>âœ… EURO_GOALS PRO+ Unified Expansion v9.6.1</p>
      <p>All engine configurations are auto-synced with Render environment variables.</p>
    </section>
  </div>
</div>

<!-- ============================================================
     Styles
============================================================ -->
<style>
  .modal-content {
    animation: fadeIn 0.25s ease;
  }
  .input-box {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 6px;
    color: #fff;
    padding: 4px 6px;
  }
  body[data-theme="light"] .input-box {
    background: #f2f5fa;
    color: #111;
    border-color: #ccc;
  }
  .modal-btn {
    padding: 6px 10px;
    border-radius: 6px;
    color: #fff;
    font-weight: 500;
    transition: background 0.25s ease;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }
</style>

<!-- ============================================================
     Scripts
============================================================ -->
<script>
  const modal = document.getElementById("systemControlsModal");
  const closeBtn = document.getElementById("closeControlsBtn");

  if (closeBtn) closeBtn.addEventListener("click", () => modal.classList.add("hidden"));
  document.addEventListener("keydown", e => {
    if (e.key === "Escape") modal.classList.add("hidden");
  });
  modal.addEventListener("click", e => {
    if (e.target === modal) modal.classList.add("hidden");
  });

  // --- Save Config (future extension)
  document.getElementById("btn-save-config")?.addEventListener("click", () => {
    alert("âœ… Configuration saved locally (future API sync).");
  });

  // --- Force Refresh
  document.getElementById("btn-refresh-all")?.addEventListener("click", () => {
    location.reload(true);
  });

  // --- Clear Cache (Service Worker)
  document.getElementById("btn-clear-cache")?.addEventListener("click", async () => {
    if ("caches" in window) {
      const keys = await caches.keys();
      await Promise.all(keys.map(k => caches.delete(k)));
      alert("ğŸ§¹ Cache cleared successfully.");
      location.reload(true);
    }
  });
</script>
