<!DOCTYPE html>
<html lang="en" data-theme="blue">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>AI MatchLab â€“ Live Dashboard</title>

    <!-- CSS -->
    <link rel="stylesheet" href="/static/css/aimatchlab.css?v=1.0.0">

    <!-- Icons -->
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" type="image/png" href="/static/icons/icon-192.png">

    <!-- PWA -->
    <script>
      if ('serviceWorker' in navigator) {
          navigator.serviceWorker.register('/service-worker.js');
      }
    </script>
</head>

<body class="aiml-body">

    <!-- ===================================================== -->
    <!-- HEADER -->
    <!-- ===================================================== -->
    <header class="aiml-header">
        <div class="aiml-header-left">
            <img src="/static/icons/icon-192.png" style="width:42px;border-radius:10px;">
            <div class="aiml-title-block">
                <div class="aiml-title">AI MATCHLAB</div>
                <div class="aiml-subtitle">Unified Football Intelligence Dashboard</div>
            </div>

            <div class="aiml-header-badges">
                <span class="aiml-badge env">ENV: DEVELOPMENT</span>
                <span class="aiml-badge version">v0.9.3 PREMIUM</span>
            </div>
        </div>

        <div class="aiml-header-right">
            <button id="refreshBtn" class="aiml-header-btn aiml-refresh-btn">âŸ³ Refresh</button>
            <button id="themeToggleBtn" class="aiml-header-btn aiml-theme-btn">ðŸŒ“ Theme</button>
            <button id="installBtn" class="aiml-header-btn aiml-install-btn">â‡© Install</button>
        </div>
    </header>

    <!-- ===================================================== -->
    <!-- SUMMARY -->
    <!-- ===================================================== -->
    <div class="aiml-summary-bar">

        <div class="aiml-summary-card">
            <div class="aiml-summary-label">Backend</div>
            <div id="backendStatusValue" class="aiml-summary-value">â€”</div>
            <div class="aiml-summary-caption">FastAPI Health</div>
        </div>

        <div class="aiml-summary-card">
            <div class="aiml-summary-label">Worker</div>
            <div id="workerStatusValue" class="aiml-summary-value">â€”</div>
            <div id="workerSummaryCaption" class="aiml-summary-caption">Waitingâ€¦</div>
        </div>

        <div class="aiml-summary-card">
            <div class="aiml-summary-label">Live Feed</div>
            <div id="feedStatusValue" class="aiml-summary-value">â€”</div>
            <div id="feedSummaryCaption" class="aiml-summary-caption">Waitingâ€¦</div>
        </div>

    </div>

    <!-- ===================================================== -->
    <!-- MAIN GRID -->
    <!-- ===================================================== -->

    <div class="aiml-main-grid">

        <!-- =============== LEFT SIDE: MATCH MATRIX =============== -->
        <div class="aiml-panel">

            <div class="aiml-panel-header">
                <div>
                    <div class="aiml-panel-title">Matches</div>
                    <div class="aiml-panel-subtitle">Live / Recent / Upcoming feed</div>
                </div>

                <div class="aiml-tabs">
                    <button id="btnAll" class="aiml-tab aiml-tab-active">All</button>
                    <button id="btnLive" class="aiml-tab">Live</button>
                    <button id="btnRecent" class="aiml-tab">Recent</button>
                    <button id="btnUpcoming" class="aiml-tab">Upcoming</button>
                    <button id="btnWidgets" class="aiml-tab">Widgets</button>
                </div>
            </div>

            <div class="aiml-live-container">

                <!-- Skeleton -->
                <div id="liveSkeleton" class="aiml-skeleton-list" style="display:none;">
                    <div class="aiml-skeleton-card"></div>
                    <div class="aiml-skeleton-card"></div>
                    <div class="aiml-skeleton-card"></div>
                    <div class="aiml-skeleton-card"></div>
                </div>

                <!-- Placeholder -->
                <div id="livePlaceholder" class="aiml-placeholder" style="display:none;">
                    Waiting for live dataâ€¦
                </div>

                <!-- Live Matches -->
                <div id="liveContainer" class="aiml-live-container"></div>

                <!-- Widgets Tab -->
                <div id="widgetsContainer"></div>

            </div>
        </div>

        <!-- =============== RIGHT SIDE: SYSTEM MONITOR =============== -->
        <div class="aiml-panel aiml-monitor-panel">

            <div class="aiml-panel-header">
                <div class="aiml-panel-title">System Monitor</div>
                <div class="aiml-panel-subtitle">Worker / API / Feeds</div>
            </div>

            <div class="aiml-monitor-block">
                <div class="aiml-monitor-title">Worker Status (/api/status)</div>
                <pre id="statusBox" class="aiml-monitor-pre">{}</pre>
            </div>

            <div class="aiml-monitor-block">
                <div class="aiml-monitor-title">Live Feed Debug (/api/live)</div>
                <pre id="liveDebugBox" class="aiml-monitor-pre">{}</pre>
            </div>
        </div>

    </div>

    <!-- ========================= DEBUG PANEL ======================= -->
    <div class="aiml-debug-section">
        <div class="aiml-debug-header">
            <div class="aiml-debug-title">Debug Panel</div>
            <button id="toggleDebugBtn" class="aiml-debug-toggle-btn">Collapse</button>
        </div>

        <pre id="debugPanel" class="aiml-debug-pre">{}</pre>
    </div>

    <!-- GOAL OVERLAY -->
    <div id="goalFlashOverlay" class="aiml-goal-overlay" style="display:none;">GOAL!</div>

    <!-- ============================ FOOTER ========================= -->
    <div class="aiml-footer">
        <a href="/legal/terms">Terms</a>
        <a href="/legal/privacy">Privacy</a>
        <a href="/legal/cookies">Cookies</a>
        <a href="/legal/responsible">Responsible Gambling</a>
    </div>

    <!-- JS -->
    <script src="/static/js/aimatchlab.js?v=1.0.0"></script>

</body>
</html>
